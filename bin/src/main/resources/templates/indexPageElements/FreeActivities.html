<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
    <link th:href="@{/css/cards.css}" rel="stylesheet" />
    <title></title>
    
</head>

<body>

    <ul id="freeActivity-list" class="cards">
    <th:block th:each="freeActivity:${freeActivitys}"> 
    
        <li>
            <a href="" class="card">
                <img th:src="img/web/jojo_bird.png" class="card__image" alt="" />
                <div class="card__overlay">
                    <div class="card__header">
                        <svg class="card__arc" xmlns="http://www.w3.org/2000/svg">
                            <path />
                        </svg>
                        <img class="card__thumb" src="https://i.imgur.com/7D7I6dI.png" alt="" />
                        <div class="card__header-text">
                            <h3 th.text="${freeActivity.acName}" class="card__title"></h3>
                            <span class="card__status">1 hour ago</span>
                        </div>
                    </div>
                    <p class="card__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores,
                        blanditiis?</p>
                </div>
            </a>
        </li>
       <th:block> 
        
       
    </ul>
    
     <script>
        fetch('/joinjoy/free')
            .then(response => response.json()) 
            .then(freeActivitys => {
                const freeActivitysList = document.getElementById('freeActivity-list');

                freeActivitys.forEach(freeActivity => {
                    const li = document.createElement('li');
                    li.innerHTML=`<a href="" class="card">
               <img src="/joinjoy/img/web/jojo_bird.png" class="card__image" alt="" />
                <div class="card__overlay">
                    <div class="card__header">
                        <svg class="card__arc" xmlns="http://www.w3.org/2000/svg">
                            <path />
                        </svg>
                        <img class="card__thumb" src="https://i.imgur.com/7D7I6dI.png" alt="" />
                        <div class="card__header-text">
                            <h3  class="card__title">${freeActivity.acName}</h3>
                            <span class="card__status">1 hour ago</span>
                        </div>
                    </div>
                    <p class="card__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores,
                        blanditiis?</p>
                </div>
            </a>`;
                    freeActivitysList.appendChild(li);
                });
            })
            .catch(error => console.error('Error fetching users:', error));
    </script>

</body>

</html>